# TIL Template

## 날짜: 2025-04-15

### 스크럼
- 학습 목표 1 : 기술 면접 학습 - 데이터베이스
- 학습 목표 2 : 파이널 프로젝트 - ERD설계

### 새로 배운 내용

❓ **데이터베이스에서 인덱스를 사용하는 이유와 장단점을 설명해주세요.**
- 인덱스 사용 이유

  데이터의 검색 속도를 향상시키기 위해서

- 장점
  - 검색 성능 향상: 풀 스캔을 피함
  - 응답 시간 단축
  - 정렬 속도 향상
- 단점
  - 쓰기 성능 저하: `INSERT`, `UPDATE`, `DELETE` 시 인덱스도 함께 갱신해야 함
  - 저장 공간 추가 소요
  - 과도한 인덱스 → 쿼리를 복잡하게 만들고, 오히려 성능 저하

- 인덱스를 사용하면 좋은 경우
  - `WHERE`, `JOIN` 조건이 자주 사용되는 컬럼
  - 정렬, 그룹핑이 자주 되는 컬럼

<aside>
❓ACID 란?

RDB 트랜잭션에서 **정합성**과 **안정성**을 보장하기 위한 네 가지 특성

| 항목 | 설명 |
| --- | --- |
| **A - Atomicity (원자성)** | 트랜잭션은 모두 성공하거나, 전부 실패해야 함 (중간 없음).  <br/>→ 예: 계좌이체할 때 출금만 되고 입금이 안 되면 안 되겠죠? |
| **C - Consistency (일관성)** | 트랜잭션 수행 전후로 데이터는 항상 유효한 상태를 유지해야 함. <br/>→ 무결성 제약 조건 등을 항상 만족 |
| **I - Isolation (격리성)** | 동시에 여러 트랜잭션이 실행되어도 서로 간섭하지 않도록 보장함. |
| **D - Durability (지속성)** | 트랜잭션이 완료되면 그 결과는 영구적으로 저장됨.  <br/>→ 시스템 장애가 나도 롤백되지 않음 |

BASE 란?

NoSQL 데이터베이스에서 사용되는 개념으로, 즉각적인 일관성을 포기하고 시스템의 가용성과 확장성을 높이며 최종적 일관성을 지향하는 접근 방식

| 항목 | 설명 |
| --- | --- |
| **BA - Basically Available <br/>(기본적인 가용성)** | 시스템은 항상 응답함 (단, 최신 데이터가 아닐 수 있음) |
| **S - Soft state <br/>(유연한 상태)** | 상태가 즉각적으로 일관되지 않아도 괜찮음 (시간이 지나면서 바뀔 수 있음) |
| **E - Eventually consistent <br/>(최종적 일관성)** | 시간이 지나면 데이터는 결국 일관된 상태로 수렴함 |
</aside>

<aside>

**❓ 데이터 정규화와 비정규화**

- 정규화
  - 중복을 줄이고, 테이블을 작게 나누는 과정
  - 데이터 무결성과 쿼리 성능을 향상하기 위해
- 비정규화
  - 정규화된 테이블을 다시 합치거나 중복 데이터를 허용하는 과정
  - 조회(검색) 성능 향상 → 복잡한 `JOIN` 줄이기

</aside>

<aside>
❓

**트랜잭션 격리수준에 대해서 설명해주세요.**

DBMS에서 여러 트랜잭션들이 **동시에 실행될 때의 상호작용**을 제어하기 위한 개념

격리 수준 4단계

| 수준 | 설명 | 방지되는 현상 |
| --- | --- | --- |
| **READ UNCOMMITTED** | 다른 트랜잭션의 **커밋되지 않은 변경사항도 읽을 수 있음** | 거의 없음 (가장 낮은 수준) |
| **READ COMMITTED** | **커밋된 데이터만 읽을 수 있음** | ❌ Dirty Read 방지 |
| **REPEATABLE READ** | 같은 쿼리를 실행했을 때 항상 **같은 결과**를 얻음 | ❌ Dirty Read<br/>❌ Non-repeatable Read |
| **SERIALIZABLE** | 트랜잭션이 **완전히 직렬화된 것처럼 실행됨** | ❌ Dirty Read<br/>❌ Non-repeatable Read <br/>❌ Phantom Read |


현상

| 현상 | 설명 |
| --- | --- |
| **Dirty Read** | 다른 트랜잭션이 아직 커밋하지 않은 데이터를 읽음 |
| **Non-repeatable Read** | 같은 SELECT 쿼리를 반복했는데 결과가 달라짐 |
| **Phantom Read** | 범위 조건 쿼리 결과에 **새로운 행이 끼어들거나 사라짐** |
</aside>

<aside>
❓Spring JPA에서 **트랜잭션 격리 수준을 직접 설정하지 않으면**, 어떤 기본값이 사용되는지

- `@Transactional`에서 `isolation`을 지정하지 않으면 ?

  → `Isolation.DEFAULT`

- `Isolation.DEFAULT` 란?
  - "**DBMS의 기본 격리 수준**"을 따른다는 뜻
  - 즉, 사용하는 데이터베이스에 따라 다르게 동작
  - MySQL이라면 자동으로 `REPEATABLE READ`로 작동

</aside>